import{d as h,r as b,j as u,C as J}from"./index-CRg9Ilwg.js";import{a as Q}from"./index-NIGUFBhG.js";import{y as F}from"./index-JJA3EqHf.js";import{T as L}from"./TextField-Bd8QoaB1.js";import{B as U}from"./Button-CV_-IQF3.js";import"./Select-ujX37O06.js";import"./FormLabel-B2T60qdc.js";function Y(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),i=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(i),e&&(n.href=e),i.href=t,i.href}const Z=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function p(t){const e=[];for(let r=0,n=t.length;r<n;r++)e.push(t[r]);return e}let x=null;function V(t={}){return x||(t.includeStyleProperties?(x=t.includeStyleProperties,x):(x=p(window.getComputedStyle(document.documentElement)),x))}function S(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function N(t){const e=S(t,"border-left-width"),r=S(t,"border-right-width");return t.clientWidth+e+r}function tt(t){const e=S(t,"border-top-width"),r=S(t,"border-bottom-width");return t.clientHeight+e+r}function W(t,e={}){const r=e.width||N(t),n=e.height||tt(t);return{width:r,height:n}}function et(){let t,e;try{e=process}catch{}const r=e&&e.env?e.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const g=16384;function rt(t){(t.width>g||t.height>g)&&(t.width>g&&t.height>g?t.width>t.height?(t.height*=g/t.width,t.width=g):(t.width*=g/t.height,t.height=g):t.width>g?(t.height*=g/t.width,t.width=g):(t.width*=g/t.height,t.height=g))}function E(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>e(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=t})}async function nt(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function st(t,e,r){const n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${r}`),i.setAttribute("viewBox",`0 0 ${e} ${r}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),nt(i)}const m=(t,e)=>{if(t instanceof e)return!0;const r=Object.getPrototypeOf(t);return r===null?!1:r.constructor.name===e.name||m(r,e)};function it(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function at(t,e){return V(e).map(r=>{const n=t.getPropertyValue(r),i=t.getPropertyPriority(r);return`${r}: ${n}${i?" !important":""};`}).join(" ")}function ot(t,e,r,n){const i=`.${t}:${e}`,s=r.cssText?it(r):at(r,n);return document.createTextNode(`${i}{${s}}`)}function I(t,e,r,n){const i=window.getComputedStyle(t,r),s=i.getPropertyValue("content");if(s===""||s==="none")return;const a=Z();try{e.className=`${e.className} ${a}`}catch{return}const o=document.createElement("style");o.appendChild(ot(a,r,i,n)),e.appendChild(o)}function ct(t,e,r){I(t,e,":before",r),I(t,e,":after",r)}const k="application/font-woff",j="image/jpeg",lt={woff:k,woff2:k,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:j,jpeg:j,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function ut(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function P(t){const e=ut(t).toLowerCase();return lt[e]||""}function ft(t){return t.split(/,/)[1]}function v(t){return t.search(/^(data:)/)!==-1}function mt(t,e){return`data:${e};base64,${t}`}async function O(t,e,r){const n=await fetch(t,e);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const i=await n.blob();return new Promise((s,a)=>{const o=new FileReader;o.onerror=a,o.onloadend=()=>{try{s(r({res:n,result:o.result}))}catch(c){a(c)}},o.readAsDataURL(i)})}const T={};function ht(t,e,r){let n=t.replace(/\?.*/,"");return r&&(n=t),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),e?`[${e}]${n}`:n}async function $(t,e,r){const n=ht(t,e,r.includeQueryParams);if(T[n]!=null)return T[n];r.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const s=await O(t,r.fetchRequestInit,({res:a,result:o})=>(e||(e=a.headers.get("Content-Type")||""),ft(o)));i=mt(s,e)}catch(s){i=r.imagePlaceholder||"";let a=`Failed to fetch resource: ${t}`;s&&(a=typeof s=="string"?s:s.message),a&&console.warn(a)}return T[n]=i,i}async function gt(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):E(e)}async function dt(t,e){if(t.currentSrc){const s=document.createElement("canvas"),a=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,a==null||a.drawImage(t,0,0,s.width,s.height);const o=s.toDataURL();return E(o)}const r=t.poster,n=P(r),i=await $(r,n,e);return E(i)}async function pt(t,e){var r;try{if(!((r=t==null?void 0:t.contentDocument)===null||r===void 0)&&r.body)return await C(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function xt(t,e){return m(t,HTMLCanvasElement)?gt(t):m(t,HTMLVideoElement)?dt(t,e):m(t,HTMLIFrameElement)?pt(t,e):t.cloneNode(B(t))}const wt=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",B=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function yt(t,e,r){var n,i;if(B(e))return e;let s=[];return wt(t)&&t.assignedNodes?s=p(t.assignedNodes()):m(t,HTMLIFrameElement)&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?s=p(t.contentDocument.body.childNodes):s=p(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),s.length===0||m(t,HTMLVideoElement)||await s.reduce((a,o)=>a.then(()=>C(o,r)).then(c=>{c&&e.appendChild(c)}),Promise.resolve()),e}function bt(t,e,r){const n=e.style;if(!n)return;const i=window.getComputedStyle(t);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):V(r).forEach(s=>{let a=i.getPropertyValue(s);s==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),m(t,HTMLIFrameElement)&&s==="display"&&a==="inline"&&(a="block"),s==="d"&&e.getAttribute("d")&&(a=`path(${e.getAttribute("d")})`),n.setProperty(s,a,i.getPropertyPriority(s))})}function St(t,e){m(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),m(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function Et(t,e){if(m(t,HTMLSelectElement)){const r=e,n=Array.from(r.children).find(i=>t.value===i.getAttribute("value"));n&&n.setAttribute("selected","")}}function Ct(t,e,r){return m(e,Element)&&(bt(t,e,r),ct(t,e,r),St(t,e),Et(t,e)),e}async function Rt(t,e){const r=t.querySelectorAll?t.querySelectorAll("use"):[];if(r.length===0)return t;const n={};for(let s=0;s<r.length;s++){const o=r[s].getAttribute("xlink:href");if(o){const c=t.querySelector(o),d=document.querySelector(o);!c&&d&&!n[o]&&(n[o]=await C(d,e,!0))}}const i=Object.values(n);if(i.length){const s="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg");a.setAttribute("xmlns",s),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const o=document.createElementNS(s,"defs");a.appendChild(o);for(let c=0;c<i.length;c++)o.appendChild(i[c]);t.appendChild(a)}return t}async function C(t,e,r){return!r&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(n=>xt(n,e)).then(n=>yt(t,n,e)).then(n=>Ct(t,n,e)).then(n=>Rt(n,e))}const _=/url\((['"]?)([^'"]+?)\1\)/g,Tt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,vt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Pt(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function $t(t){const e=[];return t.replace(_,(r,n,i)=>(e.push(i),r)),e.filter(r=>!v(r))}async function Ft(t,e,r,n,i){try{const s=r?Y(e,r):e,a=P(e);let o;return i||(o=await $(s,a,n)),t.replace(Pt(e),`$1${o}$3`)}catch{}return t}function Lt(t,{preferredFontFormat:e}){return e?t.replace(vt,r=>{for(;;){const[n,,i]=Tt.exec(r)||[];if(!i)return"";if(i===e)return`src: ${n};`}}):t}function z(t){return t.search(_)!==-1}async function G(t,e,r){if(!z(t))return t;const n=Lt(t,r);return $t(n).reduce((s,a)=>s.then(o=>Ft(o,a,e,r)),Promise.resolve(n))}async function w(t,e,r){var n;const i=(n=e.style)===null||n===void 0?void 0:n.getPropertyValue(t);if(i){const s=await G(i,null,r);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function It(t,e){await w("background",t,e)||await w("background-image",t,e),await w("mask",t,e)||await w("-webkit-mask",t,e)||await w("mask-image",t,e)||await w("-webkit-mask-image",t,e)}async function kt(t,e){const r=m(t,HTMLImageElement);if(!(r&&!v(t.src))&&!(m(t,SVGImageElement)&&!v(t.href.baseVal)))return;const n=r?t.src:t.href.baseVal,i=await $(n,P(n),e);await new Promise((s,a)=>{t.onload=s,t.onerror=e.onImageErrorHandler?(...c)=>{try{s(e.onImageErrorHandler(...c))}catch(d){a(d)}}:a;const o=t;o.decode&&(o.decode=s),o.loading==="lazy"&&(o.loading="eager"),r?(t.srcset="",t.src=i):t.href.baseVal=i})}async function jt(t,e){const n=p(t.childNodes).map(i=>q(i,e));await Promise.all(n).then(()=>t)}async function q(t,e){m(t,Element)&&(await It(t,e),await kt(t,e),await jt(t,e))}function Mt(t,e){const{style:r}=t;e.backgroundColor&&(r.backgroundColor=e.backgroundColor),e.width&&(r.width=`${e.width}px`),e.height&&(r.height=`${e.height}px`);const n=e.style;return n!=null&&Object.keys(n).forEach(i=>{r[i]=n[i]}),t}const M={};async function A(t){let e=M[t];if(e!=null)return e;const n=await(await fetch(t)).text();return e={url:t,cssText:n},M[t]=e,e}async function D(t,e){let r=t.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(r.match(/url\([^)]+\)/g)||[]).map(async a=>{let o=a.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,t.url).href),O(o,e.fetchRequestInit,({result:c})=>(r=r.replace(a,`url(${c})`),[a,c]))});return Promise.all(s).then(()=>r)}function H(t){if(t==null)return[];const e=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=t.replace(r,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=i.exec(n);if(c===null)break;e.push(c[0])}n=n.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(a,"gi");for(;;){let c=s.exec(n);if(c===null){if(c=o.exec(n),c===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;e.push(c[0])}return e}async function At(t,e){const r=[],n=[];return t.forEach(i=>{if("cssRules"in i)try{p(i.cssRules||[]).forEach((s,a)=>{if(s.type===CSSRule.IMPORT_RULE){let o=a+1;const c=s.href,d=A(c).then(l=>D(l,e)).then(l=>H(l).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(y){console.error("Error inserting rule from remote css",{rule:f,error:y})}})).catch(l=>{console.error("Error loading remote css",l.toString())});n.push(d)}})}catch(s){const a=t.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&n.push(A(i.href).then(o=>D(o,e)).then(o=>H(o).forEach(c=>{a.insertRule(c,a.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",s)}}),Promise.all(n).then(()=>(t.forEach(i=>{if("cssRules"in i)try{p(i.cssRules||[]).forEach(s=>{r.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),r))}function Dt(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>z(e.style.getPropertyValue("src")))}async function Ht(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=p(t.ownerDocument.styleSheets),n=await At(r,e);return Dt(n)}function X(t){return t.trim().replace(/["']/g,"")}function Ut(t){const e=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(s=>{e.add(X(s))}),Array.from(n.children).forEach(s=>{s instanceof HTMLElement&&r(s)})}return r(t),e}async function Vt(t,e){const r=await Ht(t,e),n=Ut(t);return(await Promise.all(r.filter(s=>n.has(X(s.style.fontFamily))).map(s=>{const a=s.parentStyleSheet?s.parentStyleSheet.href:null;return G(s.cssText,a,e)}))).join(`
`)}async function Wt(t,e){const r=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Vt(t,e);if(r){const n=document.createElement("style"),i=document.createTextNode(r);n.appendChild(i),t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}}async function Ot(t,e={}){const{width:r,height:n}=W(t,e),i=await C(t,e,!0);return await Wt(i,e),await q(i,e),Mt(i,e),await st(i,r,n)}async function Bt(t,e={}){const{width:r,height:n}=W(t,e),i=await Ot(t,e),s=await E(i),a=document.createElement("canvas"),o=a.getContext("2d"),c=e.pixelRatio||et(),d=e.canvasWidth||r,l=e.canvasHeight||n;return a.width=d*c,a.height=l*c,e.skipAutoScale||rt(a),a.style.width=`${d}`,a.style.height=`${l}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,a.width,a.height)),o.drawImage(s,0,0,a.width,a.height),a}async function _t(t,e={}){return(await Bt(t,e)).toDataURL()}const zt=h.div`
  padding: 30px;
  background-color: #fff;
`,Gt=h.div`
  max-width: 1000px;
  margin: 0 auto;
`,qt=h.h2`
  text-align: center;
  margin-bottom: 30px;
  color: #333;
`,Xt=h.div`
  margin-bottom: 30px;
`,Kt=h.form`
  display: flex;
  flex-direction: column;
  gap: 20px;
`,Jt=h.div`
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  justify-content: center;
  margin-top: 20px;
`;h.div`
    display: flex;
`;const Qt=h.div`
  position: relative;
  width: 300px;
  text-align: center;
  background: #f9f9f9;
  border-radius: 10px;
  overflow: hidden;
  padding-bottom: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;

  &:hover {
    transform: translateY(-5px);
  }
`,Yt=h.div`
  position: relative;
  width: 100%;
  height: 300px;
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
  margin-bottom: 10px;
`,Zt=h.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
`,K=h.div`
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  text-align: center;
  color: white;
  font-weight: bold;
  font-size: 24px;
  font-family: impact, sans-serif;
  text-transform: uppercase;
  letter-spacing: 1px;
  text-shadow: 2px 2px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000,
    -2px 2px 0 #000, 0 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, -2px 0 0 #000,
    2px 2px 5px #000;
  padding: 10px 5px;
  word-wrap: break-word;
`,Nt=h(K)`
  top: 10px;
`,te=h(K)`
  bottom: 10px;
`,ee=h(U)`
  margin-top: 10px !important;
  background-color: #4caf50 !important;
  &:hover {
    background-color: #388e3c !important;
  }
`,le=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(""),[i,s]=b.useState(""),[a,o]=b.useState(null),c=async l=>{l.preventDefault();try{e(!0),o(null);const f=await Q.get("https://api.imgflip.com/get_memes");o(f.data.data.memes)}catch(f){console.log(f),F.error(f.message)}finally{e(!1)}},d=l=>{const f=document.querySelector(`.meme${l}`);f&&_t(f,{cacheBust:!0}).then(y=>{const R=document.createElement("a");R.download="meme.png",R.href=y,R.click()}).catch(y=>{console.error(y),F.error("Failed to save image")})};return u.jsx(zt,{children:u.jsxs(Gt,{children:[u.jsxs(Xt,{children:[u.jsx(qt,{children:"Memes Generator"}),u.jsxs(Kt,{onSubmit:c,children:[u.jsx(L,{value:r,onChange:l=>n(l.target.value),label:"Top text",placeholder:"Write top text here",fullWidth:!0,variant:"outlined"}),u.jsx(L,{value:i,onChange:l=>s(l.target.value),label:"Bottom text",placeholder:"Write bottom text here",fullWidth:!0,variant:"outlined"}),u.jsx(U,{type:"submit",disabled:t,variant:"contained",fullWidth:!0,color:"primary",size:"large",children:t?u.jsx(J,{size:24,color:"inherit"}):"Get meme images"})]})]}),u.jsx(Jt,{children:a&&a.slice(0,10).map((l,f)=>u.jsxs(Qt,{children:[u.jsxs(Yt,{className:`meme${f}`,children:[u.jsx(Zt,{src:l.url,alt:l.name}),r&&u.jsx(Nt,{children:r}),i&&u.jsx(te,{children:i})]}),u.jsx(ee,{variant:"contained",fullWidth:!0,onClick:()=>d(f),children:"Save"})]},f))})]})})};export{Yt as MemeOutputWrapper,le as default};
